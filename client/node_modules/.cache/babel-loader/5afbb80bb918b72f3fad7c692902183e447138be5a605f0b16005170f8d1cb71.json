{"ast":null,"code":"var _jsxFileName = \"/workspace/client/src/pages/Vehicles.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Box, Typography, Button, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, IconButton, Menu, MenuItem, CircularProgress, Alert, TextField, FormControl, InputLabel, Select, Grid, Card, CardContent, Pagination } from '@mui/material';\nimport { MoreVert as MoreVertIcon, Add as AddIcon, Visibility as ViewIcon, Edit as EditIcon, Delete as DeleteIcon } from '@mui/icons-material';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Vehicles = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  const [vehicles, setVehicles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [selectedVehicleId, setSelectedVehicleId] = useState(null);\n  const [clients, setClients] = useState([]);\n  const [sites, setSites] = useState([]);\n  const [filterClientId, setFilterClientId] = useState('');\n  const [filterSiteId, setFilterSiteId] = useState('');\n  const [filterSearch, setFilterSearch] = useState('');\n  const [page, setPage] = useState(1);\n  const [limit, setLimit] = useState(10);\n  const [totalCount, setTotalCount] = useState(0);\n  const fetchVehicles = async () => {\n    setLoading(true);\n    setError('');\n    try {\n      const response = await axios.get('/api/vehicles', {\n        params: {\n          clientId: filterClientId || undefined,\n          siteId: filterSiteId || undefined,\n          page,\n          limit\n        }\n      });\n      setVehicles(response.data.vehicles);\n      setTotalCount(response.data.pagination.total);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Error fetching vehicles:', err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'Failed to fetch vehicles');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchClientsAndSites = async () => {\n    try {\n      const clientsRes = await axios.get('/api/clients');\n      setClients(clientsRes.data.clients);\n      const sitesRes = await axios.get('/api/sites');\n      setSites(sitesRes.data.sites);\n    } catch (err) {\n      console.error('Error fetching clients or sites:', err);\n    }\n  };\n  useEffect(() => {\n    fetchClientsAndSites();\n  }, []);\n  useEffect(() => {\n    fetchVehicles();\n  }, [page, limit, filterClientId, filterSiteId, filterSearch]);\n  const handleMenuClick = (event, vehicleId) => {\n    setAnchorEl(event.currentTarget);\n    setSelectedVehicleId(vehicleId);\n  };\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n    setSelectedVehicleId(null);\n  };\n  const handleView = () => {\n    if (selectedVehicleId) {\n      navigate(`/vehicles/${selectedVehicleId}`);\n    }\n    handleMenuClose();\n  };\n  const handleEdit = () => {\n    if (selectedVehicleId) {\n      navigate(`/vehicles/${selectedVehicleId}/edit`);\n    }\n    handleMenuClose();\n  };\n  const handleDelete = async () => {\n    if (selectedVehicleId && window.confirm('Are you sure you want to delete this vehicle?')) {\n      try {\n        await axios.delete(`/api/vehicles/${selectedVehicleId}`);\n        fetchVehicles();\n        handleMenuClose();\n      } catch (err) {\n        var _err$response2, _err$response2$data;\n        console.error('Error deleting vehicle:', err);\n        setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || 'Failed to delete vehicle');\n      }\n    }\n  };\n  const handlePageChange = (event, value) => {\n    setPage(value);\n  };\n  const handleLimitChange = event => {\n    setLimit(parseInt(event.target.value, 10));\n    setPage(1);\n  };\n  const filteredSites = filterClientId ? sites.filter(site => site.client_id === filterClientId) : sites;\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      p: 3\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      children: \"Vehicles\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        mb: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          children: \"Filters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          alignItems: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 4,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              label: \"Search (Make, Model, Fleet No.)\",\n              variant: \"outlined\",\n              fullWidth: true,\n              value: filterSearch,\n              onChange: e => setFilterSearch(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 3,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              variant: \"outlined\",\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"Client\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                value: filterClientId,\n                onChange: e => {\n                  setFilterClientId(e.target.value);\n                  setFilterSiteId('');\n                },\n                label: \"Client\",\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"\",\n                  children: /*#__PURE__*/_jsxDEV(\"em\", {\n                    children: \"All Clients\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 19\n                }, this), clients.map(client => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: client.id,\n                  children: client.name\n                }, client.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 3,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              variant: \"outlined\",\n              disabled: !filterClientId,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"Site\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                value: filterSiteId,\n                onChange: e => setFilterSiteId(e.target.value),\n                label: \"Site\",\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"\",\n                  children: /*#__PURE__*/_jsxDEV(\"em\", {\n                    children: \"All Sites\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 19\n                }, this), filteredSites.map(site => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: site.id,\n                  children: site.name\n                }, site.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 2,\n            children: ((user === null || user === void 0 ? void 0 : user.role) === 'admin' || (user === null || user === void 0 ? void 0 : user.role) === 'manager') && /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 30\n              }, this),\n              onClick: () => navigate('/vehicles/create'),\n              fullWidth: true,\n              children: \"Add Vehicle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"center\",\n      mt: 4,\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mt: 2\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(TableContainer, {\n        component: Paper,\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Make\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Model\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Color\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Fleet Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Km's/Hours\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Client\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Site\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: vehicles.length === 0 ? /*#__PURE__*/_jsxDEV(TableRow, {\n              children: /*#__PURE__*/_jsxDEV(TableCell, {\n                colSpan: 8,\n                align: \"center\",\n                children: \"No vehicles found.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 19\n            }, this) : vehicles.map(vehicle => /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: vehicle.make\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: vehicle.model\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: vehicle.color\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: vehicle.fleet_number\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: vehicle.km_or_hours\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: vehicle.client_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: vehicle.site_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                  \"aria-label\": \"more\",\n                  \"aria-controls\": `vehicle-menu-${vehicle.id}`,\n                  \"aria-haspopup\": \"true\",\n                  onClick: e => handleMenuClick(e, vehicle.id),\n                  children: /*#__PURE__*/_jsxDEV(MoreVertIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Menu, {\n                  id: `vehicle-menu-${vehicle.id}`,\n                  anchorEl: anchorEl,\n                  open: Boolean(anchorEl) && selectedVehicleId === vehicle.id,\n                  onClose: handleMenuClose,\n                  children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                    onClick: handleView,\n                    children: [/*#__PURE__*/_jsxDEV(ViewIcon, {\n                      sx: {\n                        mr: 1\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 310,\n                      columnNumber: 29\n                    }, this), \"View\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 309,\n                    columnNumber: 27\n                  }, this), ((user === null || user === void 0 ? void 0 : user.role) === 'admin' || (user === null || user === void 0 ? void 0 : user.role) === 'manager') && /*#__PURE__*/_jsxDEV(MenuItem, {\n                    onClick: handleEdit,\n                    children: [/*#__PURE__*/_jsxDEV(EditIcon, {\n                      sx: {\n                        mr: 1\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 315,\n                      columnNumber: 31\n                    }, this), \"Edit\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 314,\n                    columnNumber: 29\n                  }, this), (user === null || user === void 0 ? void 0 : user.role) === 'admin' && /*#__PURE__*/_jsxDEV(MenuItem, {\n                    onClick: handleDelete,\n                    sx: {\n                      color: 'error.main'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(DeleteIcon, {\n                      sx: {\n                        mr: 1\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 321,\n                      columnNumber: 31\n                    }, this), \"Delete\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 23\n              }, this)]\n            }, vehicle.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          mt: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Pagination, {\n          count: Math.ceil(totalCount / limit),\n          page: page,\n          onChange: handlePageChange,\n          color: \"primary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          variant: \"outlined\",\n          size: \"small\",\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            children: \"Items per page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            value: limit.toString(),\n            onChange: e => handleLimitChange(e),\n            label: \"Items per page\",\n            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n              value: 5,\n              children: \"5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: 10,\n              children: \"10\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: 20,\n              children: \"20\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: 50,\n              children: \"50\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 5\n  }, this);\n};\n_s(Vehicles, \"cdJyyCz6HgRyzcIcKkPHSs0tRXU=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Vehicles;\nexport default Vehicles;\nvar _c;\n$RefreshReg$(_c, \"Vehicles\");","map":{"version":3,"names":["React","useState","useEffect","Box","Typography","Button","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","IconButton","Menu","MenuItem","CircularProgress","Alert","TextField","FormControl","InputLabel","Select","Grid","Card","CardContent","Pagination","MoreVert","MoreVertIcon","Add","AddIcon","Visibility","ViewIcon","Edit","EditIcon","Delete","DeleteIcon","useNavigate","useAuth","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Vehicles","_s","user","navigate","vehicles","setVehicles","loading","setLoading","error","setError","anchorEl","setAnchorEl","selectedVehicleId","setSelectedVehicleId","clients","setClients","sites","setSites","filterClientId","setFilterClientId","filterSiteId","setFilterSiteId","filterSearch","setFilterSearch","page","setPage","limit","setLimit","totalCount","setTotalCount","fetchVehicles","response","get","params","clientId","undefined","siteId","data","pagination","total","err","_err$response","_err$response$data","console","fetchClientsAndSites","clientsRes","sitesRes","handleMenuClick","event","vehicleId","currentTarget","handleMenuClose","handleView","handleEdit","handleDelete","window","confirm","delete","_err$response2","_err$response2$data","handlePageChange","value","handleLimitChange","parseInt","target","filteredSites","filter","site","client_id","sx","p","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","mb","container","spacing","alignItems","item","xs","sm","label","fullWidth","onChange","e","map","client","id","name","disabled","role","startIcon","onClick","display","justifyContent","mt","severity","component","align","length","colSpan","vehicle","make","model","color","fleet_number","km_or_hours","client_name","site_name","open","Boolean","onClose","mr","count","Math","ceil","size","toString","_c","$RefreshReg$"],"sources":["/workspace/client/src/pages/Vehicles.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Box,\n  Typography,\n  Button,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n  IconButton,\n  Menu,\n  MenuItem,\n  CircularProgress,\n  Alert,\n  TextField,\n  FormControl,\n  InputLabel,\n  Select,\n  Grid,\n  Card,\n  CardContent,\n  Pagination,\n} from '@mui/material';\nimport {\n  MoreVert as MoreVertIcon,\n  Add as AddIcon,\n  Visibility as ViewIcon,\n  Edit as EditIcon,\n  Delete as DeleteIcon,\n} from '@mui/icons-material';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport axios from 'axios';\n\ninterface Vehicle {\n  id: string;\n  make: string;\n  model: string;\n  color: string;\n  fleet_number: string;\n  registration: string;\n  km_or_hours: number;\n  year: number;\n  client_name: string;\n  site_name: string;\n  created_at: string;\n  updated_at: string;\n}\n\ninterface Client {\n  id: string;\n  name: string;\n}\n\ninterface Site {\n  id: string;\n  name: string;\n  client_id: string;\n}\n\nconst Vehicles: React.FC = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [vehicles, setVehicles] = useState<Vehicle[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n  const [selectedVehicleId, setSelectedVehicleId] = useState<string | null>(null);\n\n  const [clients, setClients] = useState<Client[]>([]);\n  const [sites, setSites] = useState<Site[]>([]);\n  const [filterClientId, setFilterClientId] = useState<string>('');\n  const [filterSiteId, setFilterSiteId] = useState<string>('');\n  const [filterSearch, setFilterSearch] = useState<string>('');\n\n  const [page, setPage] = useState(1);\n  const [limit, setLimit] = useState(10);\n  const [totalCount, setTotalCount] = useState(0);\n\n  const fetchVehicles = async () => {\n    setLoading(true);\n    setError('');\n    try {\n      const response = await axios.get('/api/vehicles', {\n        params: {\n          clientId: filterClientId || undefined,\n          siteId: filterSiteId || undefined,\n          page,\n          limit,\n        },\n      });\n      setVehicles(response.data.vehicles);\n      setTotalCount(response.data.pagination.total);\n    } catch (err: any) {\n      console.error('Error fetching vehicles:', err);\n      setError(err.response?.data?.error || 'Failed to fetch vehicles');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchClientsAndSites = async () => {\n    try {\n      const clientsRes = await axios.get('/api/clients');\n      setClients(clientsRes.data.clients);\n\n      const sitesRes = await axios.get('/api/sites');\n      setSites(sitesRes.data.sites);\n    } catch (err) {\n      console.error('Error fetching clients or sites:', err);\n    }\n  };\n\n  useEffect(() => {\n    fetchClientsAndSites();\n  }, []);\n\n  useEffect(() => {\n    fetchVehicles();\n  }, [page, limit, filterClientId, filterSiteId, filterSearch]);\n\n  const handleMenuClick = (event: React.MouseEvent<HTMLButtonElement>, vehicleId: string) => {\n    setAnchorEl(event.currentTarget);\n    setSelectedVehicleId(vehicleId);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n    setSelectedVehicleId(null);\n  };\n\n  const handleView = () => {\n    if (selectedVehicleId) {\n      navigate(`/vehicles/${selectedVehicleId}`);\n    }\n    handleMenuClose();\n  };\n\n  const handleEdit = () => {\n    if (selectedVehicleId) {\n      navigate(`/vehicles/${selectedVehicleId}/edit`);\n    }\n    handleMenuClose();\n  };\n\n  const handleDelete = async () => {\n    if (selectedVehicleId && window.confirm('Are you sure you want to delete this vehicle?')) {\n      try {\n        await axios.delete(`/api/vehicles/${selectedVehicleId}`);\n        fetchVehicles();\n        handleMenuClose();\n      } catch (err: any) {\n        console.error('Error deleting vehicle:', err);\n        setError(err.response?.data?.error || 'Failed to delete vehicle');\n      }\n    }\n  };\n\n  const handlePageChange = (event: React.ChangeEvent<unknown>, value: number) => {\n    setPage(value);\n  };\n\n  const handleLimitChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setLimit(parseInt(event.target.value, 10));\n    setPage(1);\n  };\n\n  const filteredSites = filterClientId\n    ? sites.filter((site) => site.client_id === filterClientId)\n    : sites;\n\n  return (\n    <Box sx={{ p: 3 }}>\n      <Typography variant=\"h4\" gutterBottom>\n        Vehicles\n      </Typography>\n\n      <Card sx={{ mb: 3 }}>\n        <CardContent>\n          <Typography variant=\"h6\" gutterBottom>\n            Filters\n          </Typography>\n          <Grid container spacing={2} alignItems=\"center\">\n            <Grid item xs={12} sm={4}>\n              <TextField\n                label=\"Search (Make, Model, Fleet No.)\"\n                variant=\"outlined\"\n                fullWidth\n                value={filterSearch}\n                onChange={(e) => setFilterSearch(e.target.value)}\n              />\n            </Grid>\n            <Grid item xs={12} sm={3}>\n              <FormControl fullWidth variant=\"outlined\">\n                <InputLabel>Client</InputLabel>\n                <Select\n                  value={filterClientId}\n                  onChange={(e) => {\n                    setFilterClientId(e.target.value as string);\n                    setFilterSiteId('');\n                  }}\n                  label=\"Client\"\n                >\n                  <MenuItem value=\"\">\n                    <em>All Clients</em>\n                  </MenuItem>\n                  {clients.map((client) => (\n                    <MenuItem key={client.id} value={client.id}>\n                      {client.name}\n                    </MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid item xs={12} sm={3}>\n              <FormControl fullWidth variant=\"outlined\" disabled={!filterClientId}>\n                <InputLabel>Site</InputLabel>\n                <Select\n                  value={filterSiteId}\n                  onChange={(e) => setFilterSiteId(e.target.value as string)}\n                  label=\"Site\"\n                >\n                  <MenuItem value=\"\">\n                    <em>All Sites</em>\n                  </MenuItem>\n                  {filteredSites.map((site) => (\n                    <MenuItem key={site.id} value={site.id}>\n                      {site.name}\n                    </MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid item xs={12} sm={2}>\n              {(user?.role === 'admin' || user?.role === 'manager') && (\n                <Button\n                  variant=\"contained\"\n                  startIcon={<AddIcon />}\n                  onClick={() => navigate('/vehicles/create')}\n                  fullWidth\n                >\n                  Add Vehicle\n                </Button>\n              )}\n            </Grid>\n          </Grid>\n        </CardContent>\n      </Card>\n\n      {loading ? (\n        <Box display=\"flex\" justifyContent=\"center\" mt={4}>\n          <CircularProgress />\n        </Box>\n      ) : error ? (\n        <Alert severity=\"error\" sx={{ mt: 2 }}>\n          {error}\n        </Alert>\n      ) : (\n        <>\n          <TableContainer component={Paper}>\n            <Table>\n              <TableHead>\n                <TableRow>\n                  <TableCell>Make</TableCell>\n                  <TableCell>Model</TableCell>\n                  <TableCell>Color</TableCell>\n                  <TableCell>Fleet Number</TableCell>\n                  <TableCell>Km's/Hours</TableCell>\n                  <TableCell>Client</TableCell>\n                  <TableCell>Site</TableCell>\n                  <TableCell align=\"right\">Actions</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {vehicles.length === 0 ? (\n                  <TableRow>\n                    <TableCell colSpan={8} align=\"center\">\n                      No vehicles found.\n                    </TableCell>\n                  </TableRow>\n                ) : (\n                  vehicles.map((vehicle) => (\n                    <TableRow key={vehicle.id}>\n                      <TableCell>{vehicle.make}</TableCell>\n                      <TableCell>{vehicle.model}</TableCell>\n                      <TableCell>{vehicle.color}</TableCell>\n                      <TableCell>{vehicle.fleet_number}</TableCell>\n                      <TableCell>{vehicle.km_or_hours}</TableCell>\n                      <TableCell>{vehicle.client_name}</TableCell>\n                      <TableCell>{vehicle.site_name}</TableCell>\n                      <TableCell align=\"right\">\n                        <IconButton\n                          aria-label=\"more\"\n                          aria-controls={`vehicle-menu-${vehicle.id}`}\n                          aria-haspopup=\"true\"\n                          onClick={(e) => handleMenuClick(e, vehicle.id)}\n                        >\n                          <MoreVertIcon />\n                        </IconButton>\n                        <Menu\n                          id={`vehicle-menu-${vehicle.id}`}\n                          anchorEl={anchorEl}\n                          open={Boolean(anchorEl) && selectedVehicleId === vehicle.id}\n                          onClose={handleMenuClose}\n                        >\n                          <MenuItem onClick={handleView}>\n                            <ViewIcon sx={{ mr: 1 }} />\n                            View\n                          </MenuItem>\n                          {(user?.role === 'admin' || user?.role === 'manager') && (\n                            <MenuItem onClick={handleEdit}>\n                              <EditIcon sx={{ mr: 1 }} />\n                              Edit\n                            </MenuItem>\n                          )}\n                          {user?.role === 'admin' && (\n                            <MenuItem onClick={handleDelete} sx={{ color: 'error.main' }}>\n                              <DeleteIcon sx={{ mr: 1 }} />\n                              Delete\n                            </MenuItem>\n                          )}\n                        </Menu>\n                      </TableCell>\n                    </TableRow>\n                  ))\n                )}\n              </TableBody>\n            </Table>\n          </TableContainer>\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mt: 2 }}>\n            <Pagination\n              count={Math.ceil(totalCount / limit)}\n              page={page}\n              onChange={handlePageChange}\n              color=\"primary\"\n            />\n            <FormControl variant=\"outlined\" size=\"small\">\n              <InputLabel>Items per page</InputLabel>\n              <Select\n                value={limit.toString()}\n                onChange={(e: any) => handleLimitChange(e)}\n                label=\"Items per page\"\n              >\n                <MenuItem value={5}>5</MenuItem>\n                <MenuItem value={10}>10</MenuItem>\n                <MenuItem value={20}>20</MenuItem>\n                <MenuItem value={50}>50</MenuItem>\n              </Select>\n            </FormControl>\n          </Box>\n        </>\n      )}\n    </Box>\n  );\n};\n\nexport default Vehicles;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}